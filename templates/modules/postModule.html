<section th:class="${theme.config.oIndex.Hero.Hero_enabled == true ? 'pt-12 pb-20' : 'py-20 md:pt-30'}" th:with="indexBlog = ${theme.config.oIndex.Blog}">
  <div class="flex items-center gap-1" th:if="${theme.config.oIndex.Blog.blog_enabled}">
    <svg class="icon size-8 shrink-0" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M885.333333 96c23.786667 0 39.253333 25.034667 28.618667 46.314667a7024.8 7024.8 0 0 0-56.917333 116.234666A424.853333 424.853333 0 0 1 938.666667 509.589333c0 235.637333-191.029333 426.666667-426.666667 426.666667s-426.666667-191.029333-426.666667-426.666667c0-235.648 191.029333-426.666667 426.666667-426.666666a424.938667 424.938667 0 0 1 196.544 47.872C762.453333 107.573333 821.482667 96 885.333333 96z m-164.234666 99.381333a32 32 0 0 1-29.696-1.066666A360.821333 360.821333 0 0 0 512 146.933333c-200.298667 0-362.666667 162.368-362.666667 362.666667 0 200.288 162.368 362.666667 362.666667 362.666667s362.666667-162.378667 362.666667-362.666667a360.96 360.96 0 0 0-79.850667-227.061333 32 32 0 0 1-4-33.706667 5870.922667 5870.922667 0 0 1 41.322667-85.589333c-39.786667 4.970667-76.768 15.701333-111.04 32.149333zM330.666667 362.666667a42.666667 42.666667 0 0 1 42.666666 42.666666v64a42.666667 42.666667 0 1 1-85.333333 0v-64a42.666667 42.666667 0 0 1 42.666667-42.666666z m170.666666 0a42.666667 42.666667 0 0 1 42.666667 42.666666v64a42.666667 42.666667 0 1 1-85.333333 0v-64a42.666667 42.666667 0 0 1 42.666666-42.666666z"
      ></path>
    </svg>
    <h3 class="shrink-0 text-2xl font-medium text-gray-800 dark:text-white/90" th:text="${indexBlog.blogTitle ?: '最新博客'}"></h3>
    <span class="mx-2 h-10 w-px bg-gray-400 md:h-6 dark:bg-white/50"></span>
    <p class="text-xs text-gray-500 md:text-sm dark:text-white/60" th:text="${indexBlog.blogDesc ?: '请在主题设置中添加概要'}"></p>
  </div>
  <ul
    class="mt-10 grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3"
    th:with="postLimit=${theme.config.oIndex.Blog.blogStyle ?: 5}, posts=${postFinder.list({page: 1, size: postLimit, sort: {'spec.publishTime,desc'}})}"
  >
    <li
      class="flex h-fit flex-col overflow-hidden rounded-2xl border border-gray-100 bg-white lg:h-120 dark:border-white/10 dark:bg-white/5"
      th:attr="id=|post-${post.metadata.name}|"
      th:each="post : ${posts.items}"
    >
      <img
        class="h-52 w-full object-cover lg:h-60"
        sizes="(max-width: 1600px) 100vw, 1600px"
        th:if="${not #strings.isEmpty(post.spec.cover)}"
        th:src="${post.spec.cover}"
        th:alt="${post.spec.title}"
        th:srcset="|${thumbnail.gen(post.spec.cover, 's')} 400w,
                  ${thumbnail.gen(post.spec.cover, 'm')} 800w,
                  ${thumbnail.gen(post.spec.cover, 'l')} 1200w,
                  ${thumbnail.gen(post.spec.cover, 'xl')} 1600w|"
      />
      <img class="h-52 w-full object-cover lg:h-60" th:if="${#strings.isEmpty(post.spec.cover)}" th:alt="${post.spec.title}" th:src="${#theme.assets('/images/blog.avif')}" />
      <div class="flex flex-1 flex-col gap-4 p-6 md:gap-2">
        <div class="flex items-center gap-3 text-xs tracking-[0.35em] text-gray-400 uppercase dark:text-white/50">
          <span th:text="${#dates.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
          <span class="h-px w-4 bg-gray-200 dark:bg-white/10"></span>
          <a
            th:href="@{${post.categories[0].status.permalink}}"
            th:if="${post.categories != null and !post.categories.isEmpty()}"
            th:text="${post.categories[0].spec.displayName}"
            th:title="|分类：${post.categories[0].spec.displayName}|"
          ></a>
        </div>
        <a th:href="@{${post.status.permalink}}">
          <h4 class="text-xl font-normal text-gray-900 dark:text-white" th:text="${post.spec.title}"></h4>
        </a>
        <p class="-mt-2 line-clamp-3 overflow-hidden text-sm leading-relaxed text-gray-600 sm:mt-0 md:text-base dark:text-white/70" th:text="${post.status.excerpt}"></p>
        <div class="mt-auto flex items-center justify-between">
          <a class="inline-flex items-center gap-1 text-xs font-medium text-gray-900 lg:text-sm dark:text-white" th:href="@{${post.status.permalink}}">阅读全文</a>
          <ul class="flex items-center gap-2 text-xs text-gray-500 dark:text-white/50">
            <li class="flex items-center gap-1">
              <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M885.333333 96c23.786667 0 39.253333 25.034667 28.618667 46.314667a7024.8 7024.8 0 0 0-56.917333 116.234666A424.853333 424.853333 0 0 1 938.666667 509.589333c0 235.637333-191.029333 426.666667-426.666667 426.666667s-426.666667-191.029333-426.666667-426.666667c0-235.648 191.029333-426.666667 426.666667-426.666666a424.938667 424.938667 0 0 1 196.544 47.872C762.453333 107.573333 821.482667 96 885.333333 96z m-164.234666 99.381333a32 32 0 0 1-29.696-1.066666A360.821333 360.821333 0 0 0 512 146.933333c-200.298667 0-362.666667 162.368-362.666667 362.666667 0 200.288 162.368 362.666667 362.666667 362.666667s362.666667-162.378667 362.666667-362.666667a360.96 360.96 0 0 0-79.850667-227.061333 32 32 0 0 1-4-33.706667 5870.922667 5870.922667 0 0 1 41.322667-85.589333c-39.786667 4.970667-76.768 15.701333-111.04 32.149333zM330.666667 362.666667a42.666667 42.666667 0 0 1 42.666666 42.666666v64a42.666667 42.666667 0 1 1-85.333333 0v-64a42.666667 42.666667 0 0 1 42.666667-42.666666z m170.666666 0a42.666667 42.666667 0 0 1 42.666667 42.666666v64a42.666667 42.666667 0 1 1-85.333333 0v-64a42.666667 42.666667 0 0 1 42.666666-42.666666z"
                ></path>
              </svg>
              <span th:text="|${post.stats.visit ?:0}|"></span>
            </li>
            <li class="flex items-center gap-1">
              <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M667.786667 117.333333C832.864 117.333333 938.666667 249.706667 938.666667 427.861333c0 138.250667-125.098667 290.506667-371.573334 461.589334a96.768 96.768 0 0 1-110.186666 0C210.432 718.368 85.333333 566.112 85.333333 427.861333 85.333333 249.706667 191.136 117.333333 356.213333 117.333333c59.616 0 100.053333 20.832 155.786667 68.096C567.744 138.176 608.170667 117.333333 667.786667 117.333333z m0 63.146667c-41.44 0-70.261333 15.189333-116.96 55.04-2.165333 1.845333-14.4 12.373333-17.941334 15.381333a32.32 32.32 0 0 1-41.770666 0c-3.541333-3.018667-15.776-13.536-17.941334-15.381333-46.698667-39.850667-75.52-55.04-116.96-55.04C230.186667 180.48 149.333333 281.258667 149.333333 426.698667 149.333333 537.6 262.858667 675.242667 493.632 834.826667a32.352 32.352 0 0 0 36.736 0C761.141333 675.253333 874.666667 537.6 874.666667 426.698667c0-145.44-80.853333-246.218667-206.88-246.218667z"
                ></path>
              </svg>
              <span th:text="|${post.stats.upvote ?:0}|"></span>
            </li>
            <li class="flex items-center gap-1">
              <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M157.568 751.296c-11.008-18.688-18.218667-31.221333-21.802667-37.909333A424.885333 424.885333 0 0 1 85.333333 512C85.333333 276.362667 276.362667 85.333333 512 85.333333s426.666667 191.029333 426.666667 426.666667-191.029333 426.666667-426.666667 426.666667a424.778667 424.778667 0 0 1-219.125333-60.501334 2786.56 2786.56 0 0 0-20.053334-11.765333l-104.405333 28.48c-23.893333 6.506667-45.802667-15.413333-39.285333-39.296l28.437333-104.288z m65.301333 3.786667l-17.258666 63.306666 63.306666-17.258666a32 32 0 0 1 24.522667 3.210666 4515.84 4515.84 0 0 1 32.352 18.944A360.789333 360.789333 0 0 0 512 874.666667c200.298667 0 362.666667-162.368 362.666667-362.666667S712.298667 149.333333 512 149.333333 149.333333 311.701333 149.333333 512c0 60.586667 14.848 118.954667 42.826667 171.136 3.712 6.912 12.928 22.826667 27.370667 47.232a32 32 0 0 1 3.338666 24.714667z m145.994667-70.773334a32 32 0 1 1 40.917333-49.205333A159.189333 159.189333 0 0 0 512 672c37.888 0 73.674667-13.173333 102.186667-36.885333a32 32 0 0 1 40.917333 49.216A223.178667 223.178667 0 0 1 512 736a223.178667 223.178667 0 0 1-143.136-51.690667z"
                />
              </svg>
              <span th:text="|${post.stats.comment ?:0} 条评论|"></span>
            </li>
          </ul>
        </div>
      </div>
    </li>
    <li
      class="relative flex flex-col overflow-hidden rounded-2xl border border-gray-200/50 bg-linear-to-br from-gray-50/80 to-gray-100/60 backdrop-blur-sm dark:border-gray-700/50 dark:from-gray-800/40 dark:to-gray-900/30 dark:backdrop-blur-sm"
    >
      <!-- 装饰性背景图案 -->
      <div class="absolute inset-0 opacity-5">
        <svg class="h-full w-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern height="10" id="grid" patternUnits="userSpaceOnUse" width="10">
              <path d="M 10 0 L 0 0 0 10" fill="none" stroke="currentColor" stroke-width="0.5" />
            </pattern>
          </defs>
          <rect fill="url(#grid)" height="100" width="100" />
        </svg>
      </div>

      <!-- 主要内容 -->
      <div class="relative flex flex-1 flex-col items-center justify-center gap-4 p-8 text-center">
        <div class="relative">
          <svg class="size-20 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
            />
          </svg>
        </div>
        <p class="max-w-xs text-sm leading-relaxed text-gray-500 dark:text-gray-400">[[${indexBlog.more.moreTitle}]]</p>

        <a
          class="inline-flex items-center justify-center gap-1.5 rounded-lg border border-gray-300/60 bg-gray-50/80 px-4 py-2 text-sm font-medium text-gray-600 backdrop-blur-sm transition-colors hover:border-gray-400/60 hover:bg-gray-100/80 dark:border-gray-600/60 dark:bg-gray-800/60 dark:text-gray-300 dark:hover:border-gray-500/60 dark:hover:bg-gray-700/60"
          href="/archives"
        >
          [[${indexBlog.more.moreLink}]]
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M17 8l4 4m0 0l-4 4m4-4H3" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
          </svg>
        </a>
      </div>
    </li>
  </ul>
</section>
